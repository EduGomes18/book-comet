{"ast":null,"code":"import _asyncToGenerator from \"/home/edu/www/book-comet/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction LoginComponent_div_7_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"E-mail is invalid!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_7_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Email is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, LoginComponent_div_7_p_1_Template, 2, 0, \"p\", 9);\n    i0.ɵɵtemplate(2, LoginComponent_div_7_p_2_Template, 2, 0, \"p\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.email.errors == null ? null : ctx_r1.email.errors[\"email\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.email.errors == null ? null : ctx_r1.email.errors[\"required\"]);\n  }\n}\n\nfunction LoginComponent_div_9_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Password is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_9_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Min of 6 length!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, LoginComponent_div_9_p_1_Template, 2, 0, \"p\", 9);\n    i0.ɵɵtemplate(2, LoginComponent_div_9_p_2_Template, 2, 0, \"p\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"minlength\"]);\n  }\n}\n\nfunction LoginComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"div\", 12)(3, \"div\", 13)(4, \"div\", 14);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport class LoginComponent {\n  constructor(loginService, route) {\n    this.loginService = loginService;\n    this.route = route;\n    this.loading = false;\n    localStorage.clear();\n  }\n\n  ngOnInit() {\n    this.loginForm = new FormGroup({\n      email: new FormControl('', [Validators.email, Validators.required]),\n      password: new FormControl('', [Validators.required, Validators.min(6)])\n    });\n  }\n\n  get email() {\n    return this.loginForm.get('email');\n  }\n\n  get password() {\n    return this.loginForm.get('password');\n  }\n\n  submit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.loginForm.invalid) return;\n      _this.loading = true;\n      const res = yield _this.loginService.auth(_this.loginForm.value); //fake loading hehe\n\n      setTimeout(() => {\n        _this.loading = false;\n        console.log('resposta', res);\n\n        if (res === null || res === void 0 ? void 0 : res.token) {\n          _this.route.navigate(['dashboard']);\n        }\n      }, 500);\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 15,\n  vars: 5,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"formDir\", \"ngForm\"], [\"type\", \"email\", \"required\", \"\", \"placeholder\", \"E-mail\", \"formControlName\", \"email\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"required\", \"\", \"placeholder\", \"Password\", \"formControlName\", \"password\"], [\"routerLink\", \"/register\"], [\"type\", \"submit\"], [\"class\", \"load-block\", 4, \"ngIf\"], [1, \"error\"], [4, \"ngIf\"], [1, \"load-block\"], [1, \"load\"], [2, \"left\", \"0\", \"top\", \"0\", \"animation-delay\", \"0s\"], [2, \"left\", \"10px\", \"top\", \"0\", \"animation-delay\", \"0.125s\"], [2, \"left\", \"20px\", \"top\", \"0\", \"animation-delay\", \"0.25s\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3, \"Welcome to Book Comet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5, \"Login now\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 2);\n      i0.ɵɵtemplate(7, LoginComponent_div_7_Template, 3, 2, \"div\", 3);\n      i0.ɵɵelement(8, \"input\", 4);\n      i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 3, 2, \"div\", 3);\n      i0.ɵɵelementStart(10, \"a\", 5);\n      i0.ɵɵtext(11, \"Register now\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 6);\n      i0.ɵɵtext(13);\n      i0.ɵɵtemplate(14, LoginComponent_div_14_Template, 5, 0, \"div\", 7);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.email.invalid && _r0.submitted);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.password.invalid && _r0.submitted);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.loading === false ? \"Login\" : \"\", \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading === true);\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.FormControlName, i4.NgIf, i2.RouterLinkWithHref],\n  styles: [\"form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  background-color: #ffffff;\\n  width: 100%;\\n  align-items: center;\\n  justify-content: flex-start;\\n  max-width: 800px;\\n  padding: 50px 30px 40px 30px;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  margin-bottom: 25px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  align-self: flex-end;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gsbUJBQW1CO0VBQ25CLDJCQUEyQjtFQUMzQixnQkFBZ0I7RUFDaEIsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQixnQkFBZ0I7QUFDbEIiLCJmaWxlIjoibG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImZvcm0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICB3aWR0aDogMTAwJTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBwYWRkaW5nOiA1MHB4IDMwcHggNDBweCAzMHB4O1xufVxuXG5wIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xufVxuXG5pbnB1dCB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbmJ1dHRvbiB7XG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuIl19 */\"]\n});","map":{"version":3,"sources":["/home/edu/www/book-comet/frontend/src/app/components/pages/login/login.component.ts"],"names":["FormControl","FormGroup","Validators","i0","i1","i2","i3","i4","LoginComponent_div_7_p_1_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent_div_7_p_2_Template","LoginComponent_div_7_Template","ɵɵtemplate","ctx_r1","ɵɵnextContext","ɵɵadvance","ɵɵproperty","email","errors","LoginComponent_div_9_p_1_Template","LoginComponent_div_9_p_2_Template","LoginComponent_div_9_Template","ctx_r2","password","LoginComponent_div_14_Template","ɵɵelement","LoginComponent","constructor","loginService","route","loading","localStorage","clear","ngOnInit","loginForm","required","min","get","submit","invalid","res","auth","value","setTimeout","console","log","token","navigate","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","LoginService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginComponent_Template","ɵɵlistener","LoginComponent_Template_form_ngSubmit_0_listener","_r0","ɵɵreference","submitted","ɵɵtextInterpolate1","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","RequiredValidator","NgControlStatus","FormControlName","NgIf","RouterLinkWithHref","styles"],"mappings":"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","sourcesContent":["import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction LoginComponent_div_7_p_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"E-mail is invalid!\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_7_p_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Email is required!\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_7_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, LoginComponent_div_7_p_1_Template, 2, 0, \"p\", 9);\n    i0.ɵɵtemplate(2, LoginComponent_div_7_p_2_Template, 2, 0, \"p\", 9);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.email.errors == null ? null : ctx_r1.email.errors[\"email\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.email.errors == null ? null : ctx_r1.email.errors[\"required\"]);\n} }\nfunction LoginComponent_div_9_p_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Password is required!\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_9_p_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Min of 6 length!\");\n    i0.ɵɵelementEnd();\n} }\nfunction LoginComponent_div_9_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, LoginComponent_div_9_p_1_Template, 2, 0, \"p\", 9);\n    i0.ɵɵtemplate(2, LoginComponent_div_9_p_2_Template, 2, 0, \"p\", 9);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.password.errors == null ? null : ctx_r2.password.errors[\"minlength\"]);\n} }\nfunction LoginComponent_div_14_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"div\", 12)(3, \"div\", 13)(4, \"div\", 14);\n    i0.ɵɵelementEnd()();\n} }\nexport class LoginComponent {\n    constructor(loginService, route) {\n        this.loginService = loginService;\n        this.route = route;\n        this.loading = false;\n        localStorage.clear();\n    }\n    ngOnInit() {\n        this.loginForm = new FormGroup({\n            email: new FormControl('', [Validators.email, Validators.required]),\n            password: new FormControl('', [Validators.required, Validators.min(6)]),\n        });\n    }\n    get email() {\n        return this.loginForm.get('email');\n    }\n    get password() {\n        return this.loginForm.get('password');\n    }\n    async submit() {\n        if (this.loginForm.invalid)\n            return;\n        this.loading = true;\n        const res = await this.loginService.auth(this.loginForm.value);\n        //fake loading hehe\n        setTimeout(() => {\n            this.loading = false;\n            console.log('resposta', res);\n            if (res === null || res === void 0 ? void 0 : res.token) {\n                this.route.navigate(['dashboard']);\n            }\n        }, 500);\n    }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router)); };\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], decls: 15, vars: 5, consts: [[3, \"formGroup\", \"ngSubmit\"], [\"formDir\", \"ngForm\"], [\"type\", \"email\", \"required\", \"\", \"placeholder\", \"E-mail\", \"formControlName\", \"email\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"required\", \"\", \"placeholder\", \"Password\", \"formControlName\", \"password\"], [\"routerLink\", \"/register\"], [\"type\", \"submit\"], [\"class\", \"load-block\", 4, \"ngIf\"], [1, \"error\"], [4, \"ngIf\"], [1, \"load-block\"], [1, \"load\"], [2, \"left\", \"0\", \"top\", \"0\", \"animation-delay\", \"0s\"], [2, \"left\", \"10px\", \"top\", \"0\", \"animation-delay\", \"0.125s\"], [2, \"left\", \"20px\", \"top\", \"0\", \"animation-delay\", \"0.25s\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0, 1);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_0_listener() { return ctx.submit(); });\n        i0.ɵɵelementStart(2, \"h1\");\n        i0.ɵɵtext(3, \"Welcome to Book Comet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \"Login now\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"input\", 2);\n        i0.ɵɵtemplate(7, LoginComponent_div_7_Template, 3, 2, \"div\", 3);\n        i0.ɵɵelement(8, \"input\", 4);\n        i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 3, 2, \"div\", 3);\n        i0.ɵɵelementStart(10, \"a\", 5);\n        i0.ɵɵtext(11, \"Register now\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 6);\n        i0.ɵɵtext(13);\n        i0.ɵɵtemplate(14, LoginComponent_div_14_Template, 5, 0, \"div\", 7);\n        i0.ɵɵelementEnd()();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.email.invalid && _r0.submitted);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.password.invalid && _r0.submitted);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading === false ? \"Login\" : \"\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading === true);\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.FormControlName, i4.NgIf, i2.RouterLinkWithHref], styles: [\"form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  background-color: #ffffff;\\n  width: 100%;\\n  align-items: center;\\n  justify-content: flex-start;\\n  max-width: 800px;\\n  padding: 50px 30px 40px 30px;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  margin-bottom: 25px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  align-self: flex-end;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gsbUJBQW1CO0VBQ25CLDJCQUEyQjtFQUMzQixnQkFBZ0I7RUFDaEIsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQixnQkFBZ0I7QUFDbEIiLCJmaWxlIjoibG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImZvcm0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICB3aWR0aDogMTAwJTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBwYWRkaW5nOiA1MHB4IDMwcHggNDBweCAzMHB4O1xufVxuXG5wIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xufVxuXG5pbnB1dCB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbmJ1dHRvbiB7XG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuIl19 */\"] });\n"]},"metadata":{},"sourceType":"module"}